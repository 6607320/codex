"""Квест 1.4: Язык Древних — Перевод на язык чисел.

Этот пергамент приоткрывает завесу тайны над "черным ящиком" `pipeline`.
Его главная цель (МАКРО-контекст) — продемонстрировать первый и самый
фундаментальный шаг любого ритуала NLP: токенизацию.

Големы не понимают человеческую речь; они понимают лишь язык чисел.
Мы призываем "Толмача" (`AutoTokenizer`) — духа-переводчика, чья
единственная задача — превращать наши слова в числовые "руны" (токены),
понятные любому Голему. Этот ритуал показывает, как AI на самом деле
"видит" и "читает" текст.
"""

# --- Акт 1: Подготовка Гримуара ---
# Призываем из гримуара "transformers"
#  чертеж "Универсального Переводчика" - AutoTokenizer.
# "Auto" означает, что этот чертеж может создать переводчика для любой модели,
# автоматически подгрузив ее правила и словарь.
from transformers import AutoTokenizer

# --- Акт 2: Призыв "Переводчика" ---

# Сообщаем о начале ритуала.
print("Призываю Магического Переводчика...")

# Создаем конкретный экземпляр Переводчика.
# AutoTokenizer.from_pretrained(...) - это заклинание, которое говорит:
# "Найди в Великой Библиотеке модель с именем 'distilbert-base-uncased...'
# и создай для меня Переводчика, который идеально к ней подходит
# (использует тот же словарь и правила)".
translator = AutoTokenizer.from_pretrained(
    "distilbert-base-uncased-finetuned-sst-2-english"
)

# --- Акт 3: Ритуал Перевода ---

# Создаем переменную-строку с текстом, который мы хотим перевести на "язык AI".
my_phrase = "Магия реальна!"

# Сообщаем, с какой фразой мы будем работать.
print(f"Готовлюсь перевести фразу: '{my_phrase}'")

# Это само магическое действие!
# Мы "скармливаем" нашу фразу (my_phrase) нашему Переводчику (translator).
# Он разбивает текст на "руны" (токены) и заменяет их на номера из своего словаря.
# Результат - это словарь, содержащий несколько списков чисел.
runes = translator(my_phrase)

# --- Акт 4: Анализ Результата ---

# Выводим заголовок для полного результата.
print("Результат перевода:")
# Печатаем весь словарь, чтобы увидеть все, что вернул Переводчик.
# Обычно это 'input_ids' и 'attention_mask'.
print(runes)

# Выводим заголовок для самой важной части.
print("\nЧисловые руны (input_ids):", end=" ")
# Из всего словаря 'runes' мы извлекаем значение по ключу 'input_ids'.
# Это и есть та самая последовательность числовых рун, которую "поймет" Голем.
print(runes["input_ids"])
