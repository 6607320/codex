# Используем стандартный, полный образ Python. Он больше, но надежнее.
FROM python:3.10

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем свиток зависимостей
COPY requirements.txt .

# Устанавливаем зависимости НАПРЯМУЮ в финальный образ
RUN pip install --no-cache-dir -r requirements.txt

# Копируем ВСЕ пергаменты из нашей мастерской
COPY . .

# Делаем исполняемым наш скрипт-пробудитель
RUN chmod +x ./start.sh

# Запускаем Голема через скрипт-пробудитель
CMD ["./start.sh"]