# test_arcane_math.py Specification

## 1. Meta Information

- **Domain:** Scripting
- **Complexity:** Low
- **Language:** Python
- **Frameworks:** pytest, arcane_math
- **Context:** ../AGENTS.md

## 2. Goal & Purpose (–¶–µ–ª—å –∏ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ)

–õ–µ–≥–µ–Ω–¥–∞: –≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–ª—É–∂–∏—Ç –ª–æ–≤—É—à–∫–æ–π-—Ä–∏—Ç—É–∞–ª–æ–º –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–µ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è add_two_runes, –≤–∑—è—Ç–æ–≥–æ –∏–∑ –º–æ–¥—É–ª—è arcane_math. –ï–≥–æ –∑–∞–¥–∞—á–∞ ‚Äî —É–¥–æ—Å—Ç–æ–≤–µ—Ä–∏—Ç—å—Å—è, —á—Ç–æ —Å–ª–æ–∂–µ–Ω–∏–µ —Ä—É–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –ø—Ä–æ—Å—Ç—ã—Ö –∏ –∫—Ä–∞–π–Ω–∏—Ö —Å–ª—É—á–∞—è—Ö (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞, –Ω–æ–ª—å –∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞).

## 3. Interface Contract (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç)

### 3.1. Inputs (–í—Ö–æ–¥—ã)

- **Source:** STDIN
- **Format:** JSON
- **Schema:**

```typescript
interface InputData {
  a: number;
  b: number;
}
```

### 3.2. Outputs (–í—ã—Ö–æ–¥—ã)

- **Destination:** STDOUT
- **Format:** Text
- **Success Criteria:** Exit Code 0
- **Schema:**

```typescript
interface OutputResult {
  status: "passed" | "failed";
  details?: string[];
}
```

## 4. Implementation Details (The Source DNA / –ò—Å—Ö–æ–¥–Ω—ã–π –ö–æ–¥)

### 4.1. Algorithmic Logic (–î–ª—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞)

–í–µ–ª–∏–∫–∏–π –†–∏—Ç—É–∞–ª –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–∞–∫: –∏–∑ —Å–≤–∏—Ç–∫–∞ arcane_math –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –ø—Ä–æ–∫–ª—è—Ç–æ–µ –∑–∞–∫–ª–∏–Ω–∞–Ω–∏–µ add_two_runes. –ó–∞—Ç–µ–º –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –¥–≤–µ –ø—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–µ —Ñ–æ—Ä–º—É–ª—ã (—Ä–∏—Ç—É–∞–ª—ã), –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–∞–±–æ—Ç—ã –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è:

- –ü–µ—Ä–≤—ã–π —Ä–∏—Ç—É–∞–ª: —Ç–µ—Å—Ç_add_two_runes_positive. –û–Ω —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ —Å–ª–æ–∂–µ–Ω–∏–µ 2 –∏ 3 –¥–∞—ë—Ç 5. –í–µ—Å—å —Ä–∏—Ç—É–∞–ª —Å—Ç—Ä–æ–∏—Ç—Å—è –Ω–∞ –º–∞–≥–∏—á–µ—Å–∫–æ–º –ø—Ä–∏–Ω—Ü–∏–ø–µ "—É—Ç–≤–µ—Ä–∂–¥–∞—é –∏—Å—Ç–∏–Ω–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ" —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ assert. –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–≤–µ–Ω 5, —Ä–∏—Ç—É–∞–ª —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–º —É—Å–ø–µ—à–Ω–æ.
- –í—Ç–æ—Ä–æ–π —Ä–∏—Ç—É–∞–ª: —Ç–µ—Å—Ç_add_two_runes_negative_and_zero. –û–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–≤–∞ —Å–ª—É—á–∞—è: (-1) + 1 –¥–∞—ë—Ç 0 –∏ (-5) + (-5) –¥–∞—ë—Ç -10. –ö–∞–∂–¥—ã–π –∫–µ–π—Å ‚Äî –æ—Ç–¥–µ–ª—å–Ω–∞—è –ª—É–Ω–Ω–∞—è –Ω–æ—Ç–∞ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è. –ü—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ –∏—Å—Ç–∏–Ω–Ω–æ—Å—Ç–∏ –æ–±–µ–∏—Ö —Ñ–æ—Ä–º—É–ª —Ä–∏—Ç—É–∞–ª —Å—á–∏—Ç–∞–µ—Ç—Å—è —É–¥–∞—á–Ω—ã–º –∏ —Ç–µ—Å—Ç–æ–≤—ã–π –Ω–∞–±–æ—Ä ‚Äî —É—Å–ø–µ—à–Ω—ã–º.

–ï—Å–ª–∏ –ª—é–±–∞—è –∏–∑ —Ñ–æ—Ä–º—É–ª –Ω–µ–≤–µ—Ä–Ω–∞ ‚Äî —á—É–¥–æ–≤–∏—â–Ω—ã–π –•–∞–æ—Å –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Ç—Ä–µ–≤–æ–≥—É, –∏ –í–µ–ª–∏–∫–∏–π –ö–∞–º–µ–Ω—å CI/CD —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–∞–ª.

### 4.2. Declarative Content (–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö)

[Inventory –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ –∏ –µ–≥–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –≤–∏–¥–µ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ RPG-–ø—Ä–∏–≥–æ–¥–Ω–æ—Å—Ç–∏.]

- üè∞ arcane_math –º–æ–¥—É–ª—å: —Å–æ–¥–µ—Ä–∂–∏—Ç —Ñ—É–Ω–∫—Ü–∏—é add_two_runes(a: int, b: int) -> int, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–ø–µ—Ä–∞—Ü–∏—é —Å–ª–æ–∂–µ–Ω–∏—è —Ä—É–Ω.
- üõ°Ô∏è test_arcane_math.py: –º–æ–¥—É–ª—å —Ç–µ—Å—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–≤–∞ —Ä–∏—Ç—É–∞–ª–∞ (test_add_two_runes_positive –∏ test_add_two_runes_negative_and_zero).
- üóùÔ∏è –°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä—É–Ω: –ø–∞—Ä—ã (2, 3) => 5; (-1, 1) => 0; (-5, -5) => -10.
- üß≠ –ö–æ–Ω—Ç–µ–∫—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: pytest –∫–∞–∫ –∞—Ä–±–∏—Ç—Ä –∏—Å—Ç–∏–Ω—É, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç —ç—Ç–∏ —Ç–µ—Å—Ç—ã –∏ –≤—ã–¥–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∏–ª–∏ –ø—Ä–æ–≤–∞–ª–∞.

## 5. Structural Decomposition (–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

- –ú–æ–¥—É–ª—å test_arcane_math.py
  - —Ç–µ—Å—Ç test_add_two_runes_positive()
  - —Ç–µ—Å—Ç test_add_two_runes_negative_and_zero()
- –í–Ω–µ—à–Ω–∏–π –∑–∞–≤–∏—Å–∏–º—ã–π –º–æ–¥—É–ª—å arcane_math.py
  - —Ñ—É–Ω–∫—Ü–∏—è add_two_runes(a: int, b: int) -> int

## 6. System Context & Constraints (–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

### 6.1. Technical Constraints

- **Performance:** Standard CPU
- **Concurrency:** Sync
- **Dependencies:** pytest, arcane_math

### 6.2. Prohibited Actions (Negative Constraints)

- DO NOT store secrets in plain text (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ .env –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).
- DO NOT print raw data to console –≤ –ø—Ä–æ–¥–∞–∫—à–Ω-—Ä–µ–∂–∏–º–µ.
- DO NOT –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ.
- DO NOT –æ–±–æ—Ä–∞—á–∏–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (.yaml, .json) –≤ —Å–∫—Ä–∏–ø—Ç—ã.
- DO NOT –∏–∑–º–µ–Ω—è—Ç—å –≤–µ—Ä—Å–∏–∏ –∏–ª–∏ –ø—É—Ç–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

## 7. Verification & Testing (–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)

```gherkin
Feature: Arcane add_two_runes tests
  Scenario: Successful execution
    Given test_arcane_math.py exists and arcane_math.add_two_runes is importable
    When pytest runs the test suite
    Then all tests pass and exit code is 0

  Scenario: Error case (test failure)
    Given arcane_math.add_two_runes has a bug causing incorrect result for 2 and 3
    When pytest runs the test suite
    Then at least one test fails and exit code is non-zero
```
