"""Квест 27.2: Заклинание-Творец "Фантома" Модели.

Этот скрипт выполняет каноническую, техническую задачу:
создает "фантом" модели (`golem_mind.pth`) фиксированного размера
для демонстрации ритуала версионирования с DVC.
"""
# Мы призываем гримуар 'os', дарующий нам власть над путями и папками.
import os

# --- Параметры Артефакта ---
# Мы объявляем имя папки-святилища, где будет храниться наш артефакт.
MODEL_DIR = "models"
# Мы объявляем истинное имя нашего "фантома" модели.
MODEL_NAME = "golem_mind.pth"
# Мы сплетаем имя папки и имя файла в единый, нерушимый путь.
MODEL_PATH = os.path.join(MODEL_DIR, MODEL_NAME)

# Мы определяем желаемый размер "фантома" в мегабайтах.
SIZE_MB = 10
# Мы переводим мегабайты в точное количество байтов для нашего заклинания.
SIZE_BYTES = SIZE_MB * 1024 * 1024


# --- Ритуал Сотворения ---
# Мы произносим заклинание `makedirs`, которое сотворит папку-святилище,
# если она еще не существует. `exist_ok=True` — руна мудрости,
# которая предотвращает ошибку, если папка уже была создана.
os.makedirs(MODEL_DIR, exist_ok=True)

# Мы оглашаем в кристалл (консоль) о начале ритуала.
print(f"Сотворяю 'фантом' модели размером {SIZE_MB} МБ в '{MODEL_PATH}'...")
# Мы открываем (или создаем) файл по нашему пути в режиме "записи байтов" (`wb`).
# Конструкция `with` гарантирует, что "портал" в файл будет закрыт,
# даже если ритуал прервется.
with open(MODEL_PATH, "wb") as f:
    # Мы произносим главное заклинание творения `write`, заполняя файл
    # точным количеством "пустых" байтов (`b'\0'`), чтобы достичь нужного размера.
    f.write(b'\0' * SIZE_BYTES)

# Мы оглашаем об успешном завершении ритуала.
print("... 'Фантом' модели успешно сотворен.")
