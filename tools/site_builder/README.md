# Инструменты Архитектора: Генератор Цифрового Гримуара

Этот каталог содержит все заклинания для сборки, тестирования и поддержания твоего личного **Цифрового Гримуара** — статического сайта-портфолио.

**Важно:** Все ритуалы исполняются из **корневой папки проекта** (`codex`).

---

## Ритуал 1: Локальное Пробуждение (Запуск для Просмотра)

```bash
# Эта команда сразу переходит в нужную папку и запускает сервер
python -m http.server 8000 --directory tools/site_builder/static
```

После этого открой в браузере `http://localhost:8000`.

---

## Ритуал 2: Великая Пересборка (Обновление после Изменений)

Проводи этот ритуал **каждый раз**, когда ты внес изменения в Кодекс (`CODEX.md`, квесты).

#### Шаг 2.1: Призыв AI-Летописца (Обновление Сценариев)

1.  **Подготовка (единоразово):**
    - Создай аккаунт на [OpenRouter.ai](https://openrouter.ai/) и получи API ключ.
    - Создай файл `tools/site_builder/.env` и вставь в него свой ключ: `OPENROUTER_API_KEY="sk-or-..."`.
    - Установи гримуары:
      ```bash
      pip install openai python-dotenv
      ```

2.  **Запуск AI-генератора:**
    ```bash
    python tools/site_builder/ai_openrouter.py
    ```
    **Примечание:** Скрипт использует **умную систему переключения (Fallback)**. Если одна бесплатная модель перегружена (ошибка 429), он автоматически попробует следующую из своего списка.

#### Шаг 2.2: Запуск Генератора Сайта

```bash
python tools/site_builder/generate.py
```

После этого твой локальный сайт (`http://localhost:8000`) будет обновлен.

---

## (Опционально) Ритуал 3: Разведка Новых Духов

Если ты хочешь узнать актуальный список бесплатных моделей или обновить рейтинг в `ai_openrouter.py`, используй этот ритуал.

```bash
python tools/site_builder/check_models.py
```

---

## Ритуал 4: Публикация в Великую Летопись (GitHub Pages)

Мы используем **GitHub Action**, который автоматически опубликует твой сайт.

**Твои действия:**

1.  Убедись, что все работает локально.
2.  Зафиксируй все изменения (включая обновленные файлы в `tools/site_builder/static/`) и отправь в свой репозиторий.
    ```bash
    git add .
    git commit -m "feat: Обновил содержание Гримуара"
    git push
    ```
3.  **Активируй магию GitHub Pages (единоразово):**
    - Перейди в `Settings` -> `Pages` твоего репозитория.
    - В `Build and deployment` выбери **Source:** `GitHub Actions`.
    - Кодекс уже содержит правильное заклинание в `.github/workflows/deploy-pages.yml`, которое берет файлы из `tools/site_builder/static/`.

После `git push` сайт будет опубликован. Ссылка появится в настройках GitHub Pages.
