:root {
  /* Здесь мы созываем первичные Эссенции Магии, заключая их в переменные для всего ритуала. */
  --bg: #0d1117; /* Эссенция Глубокой Тени — для основы нашего мира. */
  --panel-bg: #161b22; /* Эссенция Кованого Железа — для сотворения артефактов и панелей. */
  --text: #c9d1d9; /* Эссенция Лунного Света — для рун и надписей. */
  --accent: #58a6ff; /* Эссенция Эфира — для выделения ключевых глифов и сигилов. */
  --border: #30363d; /* Эссенция Гранита — для очерчивания границ и разделения элементов. */
  --term-bg: #000; /* Эссенция Бездны — для нашего Окна Прорицания (терминала). */
  --term-green: #0f0; /* Эссенция Техномагического Свечения — для рун, являющихся в терминале. */
}

/* === ЗАКЛИНАНИЕ ОСНОВНОГО КАРКАСА === */
body {
  /* Накладываем чары на самое тело нашего мира. */
  margin: 0; /* Снимаем все мирские отступы, чтобы магия заполнила все пространство. */
  background: var(--bg); /* Окрашиваем мир эссенцией Глубокой Тени. */
  color: var(
    --text
  ); /* Устанавливаем, что все письмена будут начертаны Лунным Светом. */
  font-family: /* Призываем семейство древних и ясных рун для всех текстов. */
    -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  height: 100vh; /* Растягиваем наш мир на всю высоту взора Техноманта. */
  display: flex; /* Активируем мощное заклинание гибкого построения пространства. */
  flex-direction: column; /* Приказываем основным элементам мира выстроиться в вертикальную колонну. */
  overflow: hidden; /* Запечатываем границы мира, чтобы ничто не выходило за его пределы. */
}

/* === РУНЫ ДЛЯ МАГИЧЕСКОГО КОМПАСА (Навигация) === */
nav {
  /* Создаем артефакт-компас, что будет вести нас по Кодексу. */
  display: flex; /* Снова используем заклинание гибкости для его элементов. */
  justify-content: space-between; /* Распределяем руны внутри компаса по краям, создавая гармонию. */
  align-items: center; /* Выравниваем все элементы по центральной оси артефакта. */
  padding: 0 20px; /* Создаем эфирное поле-отступ по бокам компаса. */
  background: var(--panel-bg); /* Придаем ему прочность Кованого Железа. */
  height: 70px; /* Задаем точную высоту магического артефакта. */
  flex-shrink: 0; /* Запрещаем компасу сжиматься под давлением других чар. */
  border-bottom: 1px solid var(--border); /* Очерчиваем его нижнюю грань руной из Гранита. */
}
nav a {
  /* Накладываем чары на путеводные глифы (ссылки) внутри компаса. */
  color: var(--text); /* Они сияют Лунным Светом. */
  text-decoration: none; /* Убираем мирское подчеркивание, ибо их магия очевидна. */
  font-size: 0.9em; /* Делаем их размер чуть скромнее основного текста. */
  white-space: nowrap; /* Запрещаем именам путей раскалываться на части. */
}
nav a:hover {
  /* Чары, что активируются прикосновением мысли Техноманта. */
  color: #fff; /* Глиф вспыхивает чистым белым светом в ответ. */
}

.nav-title {
  /* Создаем центральный медальон для титула Кодекса. */
  text-align: center; /* Выравниваем все надписи на медальоне по центру. */
}
.nav-title h1 {
  /* Чары для главного имени нашего Кодекса. */
  margin: 0 0 5px 0; /* Точно позиционируем его на медальоне. */
  font-size: 1.3em; /* Делаем его величественным, но не громоздким. */
  font-weight: 300; /* Придаем начертанию утонченность. */
  color: var(--accent); /* Заставляем его сиять магией Эфира. */
}
.nav-title p {
  /* Чары для подписи, гласящей о редакции Кодекса. */
  margin: 0; /* Убираем лишние отступы. */
  font-size: 0.8em; /* Делаем ее меньше, как и подобает подписи. */
  opacity: 0.6; /* Делаем ее полупрозрачной, словно эхо прошлого. */
}
/* === КОНЕЦ ЧАР ДЛЯ КОМПАСА === */

#app {
  /* Великий Алтарь, на котором будут разворачиваться все ритуалы. */
  flex: 1; /* Приказываем ему занять все оставшееся свободное пространство. */
  overflow: hidden; /* Запечатываем его границы. */
  position: relative; /* Делаем его точкой отсчета для других магических явлений. */
}

.home-scroll-container {
  /* Создаем зачарованный свиток для главной страницы, что можно разворачивать. */
  height: 100%; /* Его длина равна высоте нашего Алтаря. */
  overflow-y: auto; /* Позволяем свитку прокручиваться, если письмена длинны. */
  padding: 0 20px; /* Создаем поля по краям свитка для удобства чтения. */
  box-sizing: border-box; /* Заклинание, что заставляет поля не расширять сам свиток. */
}
.home-content {
  /* Область на свитке, где сконцентрирована основная мудрость. */
  max-width: 900px; /* Ограничиваем ширину этой области, чтобы взор не блуждал. */
  margin: 0 auto; /* Центрируем ее в пространстве, как фокус ритуала. */
  padding: 40px 0; /* Создаем эфирные отступы сверху и снизу. */
}

.part-container {
  /* Контейнер для каждой великой Части нашего Кодекса. */
  margin-bottom: 40px; /* Оставляем пространство после каждой Части для осмысления. */
}
.part-container:first-child {
  /* Особые чары для самой первой Части. */
  margin-top: 30px; /* Даем ей дополнительное пространство сверху. */
}
.part-container h2 {
  /* Название каждой Части Кодекса. */
  text-align: center; /* Размещаем его по центру, как подобает заголовку. */
  color: var(--accent); /* Заставляем его сиять Эфиром. */
  font-size: 1.5em; /* Делаем его крупным и заметным. */
  font-weight: 300; /* Придаем ему изящное начертание. */
  letter-spacing: 1px; /* Слегка разрежаем руны для монументальности. */
  border-bottom: 1px solid var(--border); /* Подчеркиваем его гранитной линией. */
  padding-bottom: 10px; /* Добавляем отступ под ним, до линии. */
  margin-bottom: 30px; /* Добавляем отступ после линии. */
}
.scroll-container {
  /* Контейнер для группы квестов. */
  margin-bottom: 30px; /* Отделяем его от последующих групп. */
}
.scroll-container h3 {
  /* Заголовок для каждой группы квестов (Свитка). */
  font-size: 1.1em; /* Задаем ему подобающий размер. */
  font-weight: 400; /* Делаем шрифт стандартной плотности. */
  color: var(--text); /* Надпись начертана Лунным Светом. */
  opacity: 0.8; /* Слегка приглушаем ее сияние. */
  margin-left: 20px; /* Смещаем заголовок вправо. */
  margin-bottom: 20px; /* Оставляем место под ним. */
  border-left: 3px solid var(--accent); /* Отмечаем его вертикальной эфирной линией. */
  padding-left: 10px; /* Добавляем отступ от линии до текста. */
}

.quest-grid {
  /* Зал Испытаний, где квесты предстают перед Техномантом. */
  display: grid; /* Применяем могущественную сетку для расположения квестов. */
  grid-template-columns: repeat(
    auto-fill,
    minmax(200px, 1fr)
  ); /* Руны сетки, что создают адаптивные колонны. */
  gap: 15px; /* Устанавливаем магическое расстояние между ячейками сетки. */
  padding: 0 0 60px 0; /* Создаем большое поле внизу Зала. */
  max-width: 1200px; /* Ограничиваем ширину Зала Испытаний. */
  margin: 0 auto; /* Центрируем его. */
}
.quest-card {
  /* Каждый отдельный Квестовый Камень. */
  background: var(--panel-bg); /* Создаем его из Кованого Железа. */
  border: 1px solid var(--border); /* Очерчиваем его Гранитом. */
  border-radius: 6px; /* Слегка скругляем его углы, как у обточенного камня. */
  padding: 15px; /* Создаем внутреннее пространство в камне. */
  cursor: pointer; /* Превращаем курсор в магический указатель при наведении. */
  transition: 0.2s; /* Накладываем чары плавного перехода для всех изменений. */
}
.quest-card:hover {
  /* Чары, активируемые прикосновением. */
  border-color: var(--accent); /* Грани камня вспыхивают Эфиром. */
  transform: translateY(-3px); /* Камень слегка левитирует, откликаясь на волю мага. */
}
.quest-card.locked {
  /* Печать, наложенная на недоступный Квестовый Камень. */
  opacity: 0.5; /* Он становится полупрозрачным, как призрак. */
  filter: grayscale(1); /* Вся магия цвета иссушается из него. */
  cursor: not-allowed; /* Курсор показывает, что печать нерушима. */
}
.q-id {
  /* Порядковый номер квеста, выгравированный на камне. */
  font-size: 0.8em; /* Гравировка сделана мелкими рунами. */
  color: #8b949e; /* Цвет рун — тусклое серебро. */
}
.q-title {
  /* Имя квеста, начертанное на камне. */
  font-weight: bold; /* Руны имени сделаны жирными и четкими. */
  margin: 5px 0; /* Располагаем их с небольшими отступами. */
}

.quest-layout {
  /* Архитектура Храма Знаний для отдельного квеста. */
  display: flex; /* Используем гибкую структуру для его постройки. */
  height: 100%; /* Храм занимает всю высоту Алтаря. */
}
.col {
  /* Каждая из Колонн, поддерживающих своды Храма. */
  flex: 1; /* Каждая Колонна занимает равное пространство. */
  display: flex; /* Внутреннее устройство Колонны также подчинено магии гибкости. */
  flex-direction: column; /* Элементы внутри выстраиваются вертикально. */
  border-right: 1px solid var(--border); /* Правая грань Колонны очерчена Гранитом. */
  min-width: 0; /* Заклинание, позволяющее Колонне сжиматься, если нужно. */
}
.col:last-child {
  /* Чары для последней Колонны. */
  border-right: none; /* Ее правая грань остается свободной. */
}
.col-header {
  /* Капитель (верхушка) каждой Колонны. */
  background: #21262d; /* Создана из темного, полированного обсидиана. */
  padding: 8px 15px; /* Украшена внутренними отступами. */
  font-size: 0.8em; /* Надписи на ней сделаны малыми рунами. */
  font-weight: bold; /* И начертаны с силой. */
  color: #8b949e; /* Цветом тусклого серебра. */
  border-bottom: 1px solid var(--border); /* Отделена от тела Колонны гранитной линией. */
  flex-shrink: 0; /* Не позволяет капители сжиматься. */
}
.scroll-content {
  /* Пространство внутри Колонны, где хранятся свитки. */
  padding: 20px; /* Свитки окружены защитным полем-отступом. */
  overflow-y: auto; /* Если свиток длинен, его можно прокручивать. */
  flex: 1; /* Это пространство занимает всю оставшуюся высоту Колонны. */
}

.markdown-body {
  /* Скрипторий, где магические тексты обретают читаемый вид. */
  line-height: 1.6; /* Устанавливаем комфортное расстояние между строками рун. */
  font-size: 14px; /* Задаем базовый размер рун. */
  overflow-wrap: break-word; /* Позволяем длинным заклинаниям переноситься на новую строку. */
  word-wrap: break-word; /* Дублирующее заклинание переноса для древних оракулов (браузеров). */
  word-break: break-word; /* Третье заклинание, гарантирующее перенос. */
}
.markdown-body h1, /* Руны для великих заголовков в текстах. */
.markdown-body h2 {
  border-bottom: 1px solid var(--border); /* Подчеркнуты гранитной линией. */
  padding-bottom: 0.3em; /* С небольшим отступом до нее. */
}
.markdown-body code {
  /* Чары для отдельных магических формул в тексте. */
  background: rgba(110, 118, 129, 0.4); /* Они окружены полупрозрачной дымкой. */
  padding: 0.2em 0.4em; /* С небольшим полем вокруг. */
  border-radius: 3px; /* Дымка имеет скругленные углы. */
  font-family: monospace; /* Начертаны специальными моноширинными рунами. */
}
.markdown-body pre {
  /* Чары для целых блоков заклинаний. */
  background: #161b22; /* Блок помещен на плиту из Кованого Железа. */
  padding: 10px; /* С защитным полем вокруг. */
  border-radius: 6px; /* Плита имеет скругленные углы. */
  overflow-x: auto; /* Если заклинание слишком широко, плиту можно двигать. */
  white-space: pre-wrap; /* Сохраняет все отступы и переносы, задуманные автором. */
  max-width: 100%; /* Ширина плиты не превышает ширину Колонны. */
}
.markdown-body img {
  /* Чары для магических изображений и визио-конструктов. */
  max-width: 100%; /* Изображение не может быть шире, чем пространство для него. */
  height: auto; /* Его высота подстраивается, сохраняя пропорции. */
}

.col-terminal {
  /* Колонна, в которой размещен Алтарь Исполнения Ритуалов (терминал). */
  flex: 1.5; /* Она шире остальных, ибо в ней вершится главная магия. */
  background: var(--term-bg); /* Ее стены созданы из чистой Бездны. */
}
.terminal-window {
  /* Окно Прорицания, смотрящее в Бездну. */
  padding: 15px; /* Окно имеет рамку-отступ. */
  font-family:
    "Consolas", "Monaco", monospace; /* Все видения в нем являются в виде моноширинных рун. */
  color: var(--term-green); /* Руны светятся Техномагическим Свечением. */
  overflow-y: auto; /* Если видений много, их можно прокрутить. */
  flex: 1; /* Окно занимает все доступное пространство Алтаря. */
}
.sys-msg {
  /* Послания от духов-хранителей системы. */
  color: #8b949e; /* Они говорят голосом тусклого серебра. */
}
.success-msg {
  /* Вестники успешного завершения ритуала. */
  color: #58a6ff; /* Их слова сияют победоносным Эфиром. */
}
.input-line {
  /* Строка, где Техномант вводит свои заклинания. */
  display: flex; /* Использует магию гибкого построения. */
  margin-top: 10px; /* Отделена от предыдущих видений. */
}
.prompt {
  /* Приглашающий сигил, ожидающий воли мага. */
  margin-right: 10px; /* Расположен перед полем для заклинания. */
  color: #f0f; /* Сияет тревожным, но могущественным пурпурным светом. */
}
#term-input {
  /* Само поле для ввода заклинаний. */
  background: transparent; /* Оно прозрачно, открывая вид на Бездну. */
  border: none; /* У него нет материальных границ. */
  color: white; /* Руны, вводимые магом, сияют чистым светом. */
  flex: 1; /* Поле растягивается, чтобы принять заклинание любой длины. */
  font-family: inherit; /* Использует те же руны, что и Окно Прорицания. */
  font-size: inherit; /* И того же размера. */
  outline: none; /* Не создает мирской рамки при фокусировке. */
}

.fade-in {
  /* Заклинание Плавного Проявления. */
  animation: fadeIn 0.3s ease-in; /* Призывает анимацию 'fadeIn' на 0.3 секунды. */
}
@keyframes fadeIn {
  /* Описание самой сути анимации 'fadeIn'. */
  from {
    /* В начале времен... */
    opacity: 0; /* ...объект был невидимым духом. */
  }
  to {
    /* ...в конце ритуала... */
    opacity: 1; /* ...он обретает полную материальность. */
  }
}

.btn-magic {
  /* Артефакт "Магическая Кнопка". */
  display: inline-block; /* Позволяет задавать ей блочные свойства, не разрывая строку. */
  background: var(--accent); /* Наполнена сияющей эссенцией Эфира. */
  color: #fff; /* Надпись на ней сияет чистым белым светом. */
  padding: 10px 30px; /* Окружена мощным полем-отступом. */
  border-radius: 20px; /* Имеет форму гладкого, округлого камня. */
  text-decoration: none; /* Лишена мирского подчеркивания. */
  font-weight: bold; /* Надпись начертана с силой. */
}

/* Чары, заставляющие оракул (браузер) уважать переносы строк в легендах. */
.markdown-body p {
  /* Это заклинание воздействует на все параграфы в Скриптории. */
  white-space: pre-wrap; /* Оно сохраняет все переносы, как в древних манускриптах. */
}

/* Дополнительные руны для улучшения читаемости ритуалов. */
.markdown-body p strong {
  /* Воздействует на выделенные силой (жирные) слова. */
  display: inline-block; /* Позволяет им иметь вертикальные отступы. */
  margin-bottom: 5px; /* Создает небольшое пространство под ними, отделяя от следующей строки. */
}

/* Заклинания, делающие путеводные глифы (ссылки) красивыми и заметными. */
.markdown-body a {
  /* Для всех ссылок в текстах Кодекса. */
  color: var(--accent); /* Они сияют Эфиром. */
  text-decoration: none; /* Лишены обычного подчеркивания. */
  border-bottom: 1px dotted var(--accent); /* Вместо этого под ними появляется пунктирная эфирная линия. */
  transition: all 0.2s ease; /* Все изменения в их облике происходят плавно. */
}

.markdown-body a:hover {
  /* Чары, активируемые прикосновением мысли. */
  color: #fff; /* Ссылка вспыхивает чистым белым светом. */
  border-bottom-color: #fff; /* И эфирная линия под ней становится сплошной и белой. */
}
