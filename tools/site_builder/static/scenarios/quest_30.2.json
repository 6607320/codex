{
  "_meta": {
    "input_hash": "8c49c65d422c19fde48ce637dcc2f77d"
  },
  "scenario": [
    {
      "command": "docker-compose up -d --build",
      "output": "Building app\n[+] Building 58.3s (16/16) FINISHED                                                                                                                                             docker:default\n => [internal] load build definition from Dockerfile                                                                                                   0.0s\n => => transferring dockerfile: 1.15kB                                                                                                                 0.0s\n => [internal] load .dockerignore                                                                                                                      0.0s\n => => transferring context: 2B                                                                                                                        0.0s\n => [internal] load metadata for docker.io/library/python:3.10                                                                                         0.0s\n => [1/7] FROM docker.io/library/python:3.10@sha256:abc123...                                                                                          0.0s\n => [internal] load build context                                                                                                                      0.1s\n => => transferring context: 12.34kB                                                                                                                   0.0s\n => CACHED [2/7] WORKDIR /app                                                                                                                          0.0s\n => [3/7] COPY requirements.txt .                                                                                                                      0.0s\n => [4/7] RUN pip install --no-cache-dir -r requirements.txt                                                                                           48.2s\n => [5/7] COPY . .                                                                                                                                    0.0s\n => [6/7] RUN chmod +x ./start.sh                                                                                                                     0.1s\n => exporting to image                                                                                                                                0.2s\n => => exporting layers                                                                                                                               0.2s\n => => writing image sha256:def456...                                                                                                                 0.0s\n => => naming to docker.io/library/app:latest                                                                                                         0.0s\n\n[+] Running 5/5\n ✔ Network Part_4_EngineeringScroll_30Quest_2_monitoring-net  Created                                                                                   0.1s\n ✔ Container Part_4_EngineeringScroll_30Quest_2-app-1                    Created                                                                                   0.1s\n ✔ Container prometheus_guardian                                        Created                                                                                   0.1s\n ✔ Container grafana_seer                                               Created                                                                                   0.0s\n ✔ Container Part_4_EngineeringScroll_30Quest_2-app-1                    Started                                                                                   1.2s\n"
    },
    {
      "command": "docker-compose logs app",
      "output": "Part_4_EngineeringScroll_30Quest_2-app-1  | Призываю 'Духа Эмоций' А (DistilBERT)...\nPart_4_EngineeringScroll_30Quest_2-app-1  | All model checkpoint weights were used when initializing transformers.pipeline.sentiment-analysis\nPart_4_EngineeringScroll_30Quest_2-app-1  | Some weights of DistilBertForSequenceClassification were not initialized from the model checkpoint...\nPart_4_EngineeringScroll_30Quest_2-app-1  | Downloading: 100%|██████████| 48.0/48.0 [00:00<00:00, 20.1kB/s]\nPart_4_EngineeringScroll_30Quest_2-app-1  | Downloading: 100%|██████████| 232k/232k [00:00<00:00, 1.23MB/s]\nPart_4_EngineeringScroll_30Quest_2-app-1  | Downloading: 100%|██████████| 268M/268M [00:14<00:00, 18.9MB/s]\nPart_4_EngineeringScroll_30Quest_2-app-1  | 'Дух А' готов к работе.\nPart_4_EngineeringScroll_30Quest_2-app-1  | Призываю 'Духа Эмоций' Б (RoBERTa)...\nPart_4_EngineeringScroll_30Quest_2-app-1  | All model checkpoint weights were used...\nPart_4_EngineeringScroll_30Quest_2-app-1  | Downloading: 100%|██████████| 899k/899k [00:00<00:00, 2.34MB/s]\nPart_4_EngineeringScroll_30Quest_2-app-1  | Downloading: 100%|██████████| 362M/362M [00:21<00:00, 17.2MB/s]\nPart_4_EngineeringScroll_30Quest_2-app-1  | 'Дух Б' готов к работе.\nPart_4_EngineeringScroll_30Quest_2-app-1  | INFO:     Started server process [1]\nPart_4_EngineeringScroll_30Quest_2-app-1  | INFO:     Waiting for application startup.\nPart_4_EngineeringScroll_30Quest_2-app-1  | INFO:     Application startup complete.\nPart_4_EngineeringScroll_30Quest_2-app-1  | INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\n"
    },
    {
      "command": "curl -X POST \"http://localhost:8000/analyze\" -H \"accept: application/json\" -H \"Content-Type: application/json\" -d '{\"text\": \"I love this product, it is absolutely amazing!\"}'",
      "output": "{\"result\":{\"label\":\"POSITIVE\",\"score\":0.9997137784957886},\"model_version\":\"A\"}\n"
    },
    {
      "command": "curl -X POST \"http://localhost:8000/analyze\" -H \"accept: application/json\" -H \"Content-Type: application/json\" -d '{\"text\": \"This is the worst service I have ever received in my life.\"}'",
      "output": "{\"result\":{\"label\":\"negative\",\"score\":0.9984564781188965},\"model_version\":\"B\"}\n"
    },
    {
      "command": "curl -X POST \"http://localhost:8000/analyze\" -H \"accept: application/json\" -H \"Content-Type: application/json\" -d '{\"text\": \"The movie was fantastic, a true masterpiece.\"}'",
      "output": "{\"result\":{\"label\":\"POSITIVE\",\"score\":0.999877393245697},\"model_version\":\"A\"}\n"
    },
    {
      "command": "curl -X POST \"http://localhost:8000/analyze\" -H \"accept: application/json\" -H \"Content-Type: application/json\" -d '{\"text\": \"I am so disappointed with the quality, it broke after one day.\"}'",
      "output": "{\"result\":{\"label\":\"negative\",\"score\":0.9923456789123456},\"model_version\":\"B\"}\n"
    },
    {
      "command": "curl -X POST \"http://localhost:8000/analyze\" -H \"accept: application/json\" -H \"Content-Type: application/json\" -d '{\"text\": \"What a wonderful experience, I would recommend it to everyone.\"}'",
      "output": "{\"result\":{\"label\":\"POSITIVE\",\"score\":0.9989123456789012},\"model_version\":\"A\"}\n"
    },
    {
      "command": "docker-compose ps",
      "output": "NAME                                      COMMAND                  SERVICE   STATUS              PORTS\nPart_4_EngineeringScroll_30Quest_2-app-1   \"/app/start.sh\"          app       running             0.0.0.0:8000->8000/tcp\ngrafana_seer                              \"/run.sh\"                grafana   running (healthy)   0.0.0.0:3000->3000/tcp\nprometheus_guardian                       \"/bin/prometheus --c…\"   prometheus running             0.0.0.0:9090->9090/tcp\n",
      "is_final": true
    }
  ]
}
