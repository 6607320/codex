{
  "_meta": {
    "input_hash": "0c8f750f8f9b16f6c097d0bed7f974d0"
  },
  "scenario": [
    {
      "command": "docker build -t codex/amulet-17-2-leviathan .",
      "output": "Sending build context to Docker daemon  5.12kB\nStep 1/6 : FROM pytorch/pytorch:2.1.0-cuda11.8-cudnn8-runtime\n ---> 4e3f7b8a2c1d\nStep 2/6 : WORKDIR /app\n ---> Running in abc123def456\nRemoving intermediate container abc123def456\n ---> 789ghi012jkl\nStep 3/6 : COPY requirements.txt .\n ---> 345mno678pqr\nStep 4/6 : RUN pip install --no-cache-dir -r requirements.txt\n ---> Running in stu901vwx234\nCollecting fastapi[all]\n  Downloading fastapi-0.104.1-py3-none-any.whl (91 kB)\nCollecting transformers==4.31.0\n  Downloading transformers-4.31.0-py3-none-any.whl (7.5 MB)\nCollecting soundfile\n  Downloading soundfile-0.12.1-py2.py3-none-linux_x86_64.whl (1.8 MB)\n... (installing dependencies: uvicorn, pydantic, huggingface-hub, torch, etc.)\nSuccessfully installed fastapi-0.104.1 transformers-4.31.0 soundfile-0.12.1 ... (other packages)\nWARNING: Running pip as the 'root' user can result in broken installations and silently broken apps.\nRemoving intermediate container stu901vwx234\n ---> yz567890abcd\nStep 5/6 : COPY main.py .\n ---> ef123ghi456j\nStep 6/6 : EXPOSE 8000\n ---> Running in klm789nop012\nRemoving intermediate container klm789nop012\n ---> qrs345tuv678\nStep 7/6 : CMD [ \"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\" ]\n ---> Running in wxy901z23abc\nRemoving intermediate container wxy901z23abc\n ---> def456ghi789\nSuccessfully built def456ghi789\nSuccessfully tagged codex/amulet-17-2-leviathan:latest\nuser@host:~/quest$ "
    },
    {
      "command": "docker run -p 8000:8000 --gpus all codex/amulet-17-2-leviathan",
      "output": "Призываю 'Духа Эмоций' для нашего амулета...\n2023-12-01 12:00:00.123456: No config specified, defaulting to: distilbert/distilbert-base-uncased-finetuned-sst-2-english\n2023-12-01 12:00:00.654321: Downloading config.json (67 lines): 100%|██████████| 548/548 [00:00<00:00, 123kB/s]\n2023-12-01 12:00:01.098765: Downloading pytorch_model.bin: 100%|██████████| 268M/268M [00:05<00:00, 50.0MB/s]\n2023-12-01 12:00:06.432109: Downloading tokenizer_config.json: 100%|██████████| 48.0/48.0 [00:00<00:00, 12.3kB/s]\n2023-12-01 12:00:06.543210: Downloading tokenizer.json: 100%|██████████| 466k/466k [00:00<00:00, 1.23MB/s]\n2023-12-01 12:00:07.876543: Downloading vocab.txt: 100%|██████████| 232k/232k [00:00<00:00, 987kB/s]\n2023-12-01 12:00:08.210987: 'Дух Эмоций' готов к работе.\nINFO:     Started server process [1]\nINFO:     Waiting for application startup.\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)\n",
      "is_final": true
    }
  ]
}
