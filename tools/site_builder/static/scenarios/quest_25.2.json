{
  "_meta": {
    "input_hash": "78b32c9a8bd1489d0aafe542b27e0c30"
  },
  "scenario": [
    {
      "command": "docker build . -f Dockerfile.mono -t codex/golem-25-2-monolith",
      "output": "Sending build context to Docker daemon  12.69MB\nStep 1/5 : FROM python:3.10 AS builder\n ---> sha256:abc1def2\nStep 2/5 : WORKDIR /app\n ---> sha256:bcde1234\nStep 3/5 : COPY libraries.list .\n ---> sha256:cdef5678\nStep 4/5 : RUN pip install --no-cache-dir -r libraries.list\n ---> Running in 9f8e\nCollecting fastapi==0.116.1\nCollecting uvicorn==0.35.0\nCollecting redis==5.0.8\nDownloading http://example.local/pip-packages/fastapi-0.116.1-py3-none-any.whl (X MB)\nDownloading http://example.local/pip-packages/uvicorn-0.35.0-py3-none-any.whl (X MB)\nDownloading http://example.local/pip-packages/redis-5.0.8-py3-none-any.whl (X MB)\nInstalling collected packages: fastapi, uvicorn, redis\nSuccessfully installed fastapi-0.116.1 uvicorn-0.35.0 redis-5.0.8\n ---> sha256:1234abcd\nStep 5/5 : COPY . .\n ---> sha256:deadbeef\nSuccessfully built 9d1f2a3b4c5d\nSuccessfully tagged codex/golem-25-2-monolith:latest",
      "is_final": false
    },
    {
      "command": "docker build . -t codex/golem-25-2-optimized",
      "output": "Sending build context to Docker daemon  15.49MB\nStep 1/4 : FROM python:3.10-slim\n ---> sha256:89abcdef0123\nStep 2/4 : WORKDIR /app\n ---> sha256:9abcdef01234\nStep 3/4 : COPY --from=builder /usr/local/lib/python3.10/site-packages /usr/local/lib/python3.10/site-packages\n ---> sha256:a1b2c3d4e5f6\nStep 4/4 : COPY . .\n ---> sha256:f0e1d2c3b4a5\nSuccessfully built 7f9e8d7c6b5a\nSuccessfully tagged codex/golem-25-2-optimized:latest",
      "is_final": false
    },
    {
      "command": "docker images | grep \\\"golem-25-2\\\"",
      "output": "codex/golem-25-2-monolith   latest   9d1f2a3b4c5d   2 days ago   1.25GB\ncodex/golem-25-2-optimized  latest   7f9e8d7c6b5a   1 day ago    235MB",
      "is_final": true
    }
  ]
}
