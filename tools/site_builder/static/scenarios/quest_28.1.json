{
  "_meta": {
    "input_hash": "42010c53b197a9fc24ffd152bf0ffde0"
  },
  "scenario": [
    {
      "command": "gcloud init",
      "output": "user@host:~$ gcloud init\nChoose a default development account:\n[1] user@example.com\n[2] another@example.com\nPlease enter your numeric selection: 1\nYour account has been activated.\nNow that you have activated an account...",
      "is_final": false
    },
    {
      "command": "gcloud billing accounts list",
      "output": "Run `gcloud beta billing accounts list --format=\"value(name)\"` to display only the account IDs.\nuser@host:~$ gcloud billing accounts list --format=\"value(name)\"\nBILLING_ACCOUNT_123456-789012-345678"
    },
    {
      "command": "gcloud billing projects link dvc-codex-project --billing-account=BILLING_ACCOUNT_123456-789012-345678",
      "output": "Linking:\nUPDATE:gcloud.billing.projectLinks.update\nWaiting on operation... done.\nUpdated [PROJECT_ID].\nLinked billing account [BILLING_ACCOUNT_123456-789012-345678] to project [PROJECT_ID]."
    },
    {
      "command": "gsutil mb -c STANDARD -l europe-west3 -b on gs://codex-dvc-storage-XXXXX",
      "output": "Creating new bucket\nCodexDVCStorageXXXXX already exists.\nYour bucket [codex-dvc-storage-XXXXX] already exists, so we cannot create it again.\nUse [codex-dvc-storage-XXXXX]... if you want to use it."
    },
    {
      "command": "gcloud auth application-default login",
      "output": "Obtaining and opening browser...\nYour browser has been opened to the URL:\nhttps://accounts.google.com/o/oauth2/auth?client_id=123456789-abcde...&response_type=consent...&access_type=offline...&redirect_uri=urn:ietf:oauth:native-client:http://localhost&scope=...&state=...&prompt=consent&authuser=0\nEnter the authorization code:\napppcode123456789\nThis approval and refresh token are saved in:\n~/.config/gcloud/application_default_credentials.json\nYou are all set!"
    },
    {
      "command": "pip install \"dvc[gs]\"",
      "output": "Requirement already satisfied: dvc in ./dvc (3.3.3)\nRequirement already satisfied: gs in /usr/local/lib/python3.10/site-packages (1.2.3)\nInstalling dvc[gs]...\nInstalling dvc[gs] dependencies...\npip install -U --isolated \"gs\""
    },
    {
      "command": "dvc remote add -d gsremote gs://codex-dvc-storage-XXXXX/artifacts",
      "output": "Added remote gsremote\n~/.dvc/config\n[remote \"gsremote\"]\nurl_gsremote = gs://codex-dvc-storage-XXXXX/artifacts"
    },
    {
      "command": "dvc push",
      "output": "running: gcloud auth application-default login\nFetching objects: 4/4\nUploading files... DONE\n4 artifacts saved (123.4 MB)",
      "is_final": true
    }
  ]
}
