{
  "_meta": {
    "input_hash": "ed8830bf4bc1016a91fecb93eda4cee7"
  },
  "scenario": [
    {
      "command": "sudo snap install google-cloud-cli --classic",
      "output": "core 16-2.54.0 installed\ngoogle-cloud-cli 7.0.0 installed\nDone.\n",
      "is_final": false
    },
    {
      "command": "gcloud init",
      "output": "Welcome! This will take you through the configuration of gcloud.\n\nYou are starting with an empty configuration. Continue? (Y/n): y\nYour current project to use is [default]: dvc-codex-project\n\nYou are now logged in as: user@example.com\nYour active project is: dvc-codex-project\n\nConfiguration complete. You can set the default project with:\n  gcloud config set project <project-id>\n",
      "is_final": false
    },
    {
      "command": "gcloud billing accounts list",
      "output": "Billing Accounts\nACCOUNT_ID          NAME                       OPEN\nXXXXXX-XXXXXX        My Billing Account         True\n",
      "is_final": false
    },
    {
      "command": "gcloud billing projects link dvc-codex-project --billing-account=XXXXXX-XXXXXX-XXXXXX",
      "output": "Updated billing account for project 'dvc-codex-project' to 'XXXXXX-XXXXXX-XXXXXX'.\n",
      "is_final": false
    },
    {
      "command": "gsutil mb -c STANDARD -l europe-west3 -b on gs://codex-dvc-storage-XXXXX",
      "output": "Creating bucket: gs://codex-dvc-storage-XXXXX\nBucket 'codex-dvc-storage-XXXXX' created in europe-west3 (STANDARD) with versioning on.\n",
      "is_final": false
    },
    {
      "command": "gcloud auth application-default login",
      "output": "Go to the following URL in your browser to authorize the application:\nhttps://accounts.google.com/o/oauth2/auth?... \nEnter verification code: [code]\nCredentials loaded successfully and stored in /home/user/.config/gcloud/application_default_credentials.json\n",
      "is_final": false
    },
    {
      "command": "pip install \"dvc[gs]\"",
      "output": "Collecting dvc[gs]\n  Downloading dvc-3.62.0-py3-none-any.whl (1.2 MB)\nCollecting gcsfs>=2021.7.0; extra == 'gs' (from dvc[gs])\n  Downloading gcsfs-3.4.0-py3-none-any.whl (63 kB)\nCollecting fsspec>=2021.2.0; extra == 'gs' (from dvc[gs])\n  Downloading fsspec-2025.7.0-py3-none-any.whl (176 kB)\nInstalling collected packages: fsspec, gcsfs, dvc\nSuccessfully installed dvc-3.62.0 gcsfs-3.4.0 fsspec-2025.7.0\n",
      "is_final": false
    },
    {
      "command": "dvc remote add -d gsremote gs://codex-dvc-storage-XXXXX/artifacts",
      "output": "Added remote 'gsremote' (default: true)\nRemote 'gsremote' is now the default for this project.\n",
      "is_final": false
    },
    {
      "command": "dvc push",
      "output": "Preparing to push data to remote 'gsremote'...\nUploading 12 file(s) to gs://codex-dvc-storage-XXXXX/artifacts\n12 files pushed\n",
      "is_final": true
    }
  ]
}
