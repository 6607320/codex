{
  "_meta": {
    "input_hash": "3e78f0c23980ced753ee2d8ee2e9b6be"
  },
  "scenario": [
    {
      "command": "docker-compose up -d --build",
      "output": "Building app\nCreating app\nCreating prometheus\nCreating grafana\nStarting services\n[app] 0.0.0.0:8000\t:\t8000",
      "is_final": false
    },
    {
      "command": "curl http://localhost:9090/targets | grep 'app:8000'",
      "output": "{\"data\": {\"scrapeConfigs\": [ ... ]}\n{\"targets\": [\"app:8000\"], \"status\": \"UP\", \"lastScrapeTimeMillis\": 1620000000000}",
      "is_final": false
    },
    {
      "command": "curl -u admin:admin -X PUT http://localhost:3000/api/datasources -H 'Content-Type: application/json' -d '{\"name\":\"Prometheus\",\"url\":\"http://prometheus:9090\"}'",
      "output": "{\"id\": 1, \"name\": \"Prometheus\", \"url\": \"http://prometheus:9090\", \"access\": \"proxy-auth\", \"isDefault\": true}",
      "is_final": false
    },
    {
      "command": "curl -u admin:admin -X POST http://localhost:3000/api/dashboards/db -H 'Content-Type: application/json' -d '{\"dashboard\": {\"title\": \"Сторожевая Башня\", \"panels\":[{\"type\": \"stat\", \"title\": \"Общее число запросов\", \"gauge\": {\"format\": \"{{value}} vs {{.total}}:{{value/total}}\", \"units\": \"запросов\", \"limitNotification\": 0}}}]}}, \"annotations\": {\"list\": []}, \"panamed\": \"createRqlAlertRuleAlertRule\", \"saveToPlaylists\": false}",
      "output": "{\"dashboardId\": 1, \"message\": \"Dashboard was saved successfully.\", \"url\": \"http://localhost:3000/d/1/telemetry\"}",
      "is_final": true
    }
  ]
}
