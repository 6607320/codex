{
  "_meta": {
    "input_hash": "d20e20cdadc520223be20e177612407c"
  },
  "scenario": [
    {
      "command": "docker-compose up -d --build",
      "output": "Building app\nStep 1/12 : FROM python:3.10\n ---> 123abc\nStep 2/12 : WORKDIR /app\n ---> 456def\nStep 3/12 : COPY libraries.list .\n ---> 789ghi\nStep 4/12 : RUN pip install --no-cache-dir -r libraries.list\n ---> Running in 1a2b3c\nCollecting fastapi==0.95.2\nCollecting prometheus-fastapi-instrumentator==0.9.0\nCollecting transformers==4.23.1\n...\nSuccessfully installed\nStep 12/12 : COPY main.py .\n ---> 0j9k8l\nSuccessfully built 123abc\nSuccessfully tagged codex/app-29-1-telemetry:latest\nCreating network 'monitoring-net'\nCreating app_1         ... done\nCreating prometheus_guardian  ... done\nCreating grafana_seer       ... done\n",
      "is_final": false
    },
    {
      "command": "docker ps",
      "output": "CONTAINER ID   IMAGE                           COMMAND                                          STATUS          PORTS                    NAMES\nabc123         codex/app-29-1-telemetry        \\\"/bin/uvicorn main:app --host 0.0.0.0 --port 8000\\\"    Up 5s         0.0.0.0:8000->8000/tcp     app\ndef456         prom/prometheus:latest          \\\"/bin/prometheus --config.file=/etc/prometheus/prometheus.yml\\\"   Up 5s         0.0.0.0:9090->9090/tcp     prometheus_guardian\nghi789         grafana/grafana:latest          \\\"/run.sh\\\"                                         Up 5s         0.0.0.0:3000->3000/tcp     grafana_seer\n",
      "is_final": false
    },
    {
      "command": "docker logs -f app | sed -n '1,6p'",
      "output": "Призываю 'Духа Эмоций' для нашего амулета...\n'Дух Эмоций' готов к работе.\n",
      "is_final": false
    },
    {
      "command": "curl -s -X POST http://localhost:8000/analyze -H 'Content-Type: application/json' -d '{\"text\":\"I love observability and dashboards.\"}'",
      "output": "{\"result\": {\"label\": \"POSITIVE\", \"score\": 0.92}}",
      "is_final": false
    },
    {
      "command": "xdg-open http://localhost:9090",
      "output": "Opening http://localhost:9090 in your default browser...",
      "is_final": false
    },
    {
      "command": "xdg-open http://localhost:3000",
      "output": "Opening http://localhost:3000 in your default browser...",
      "is_final": false
    },
    {
      "command": "echo 'Готово: мониторинг настроен. Дашборд \"Сторожевая Башня\" готов к использованию.'",
      "output": "Готово: мониторинг настроен. Дашборд \"Сторожевая Башня\" готов к использованию.\n",
      "is_final": true
    }
  ]
}
