# quest_9_1.py Specification

## 1. Meta Information

- **Domain:** Scripting
- **Complexity:** Low
- **Language:** Python
- **Frameworks:** PyTorch
- **Context:** ../AGENTS.md

## 2. Goal & Purpose (–¶–µ–ª—å –∏ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ)

**–õ–µ–≥–µ–Ω–¥–∞ –∫ –∫–æ–¥—É:** –≠—Ç–æ—Ç —Ñ–∞–π–ª ‚Äî —Ä–∏—Ç—É–∞–ª —Ä—É—á–Ω–æ–π –∫–∞–ª–∏–±—Ä–æ–≤–∫–∏ –ø—Ä–æ—Å—Ç–æ–π –ª–∏–Ω–µ–π–Ω–æ–π –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫. –ú—ã —à–∞–≥ –∑–∞ —à–∞–≥–æ–º –≤—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä—è–º–æ–π –ø—Ä–æ—Ö–æ–¥, –∏–∑–º–µ—Ä—è–µ–º —Ö–∞–æ—Å –æ—à–∏–±–æ–∫ –∏ –≤—Ä—É—á–Ω—É—é —à–µ–ø—á–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã, –∑–∞—Ç–µ–º –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º —Ä—É–Ω—ã –≤–µ—Å–æ–≤. –¶–µ–ª—å ‚Äî –Ω–∞–≥–ª—è–¥–Ω–æ –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É –æ–±—Ä–∞—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞, —á—Ç–æ–±—ã –∑–∞—Ç–µ–º —Å—Ä–∞–≤–Ω–∏—Ç—å —Å PyTorch Autograd.

---

## 3. Interface Contract (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç)

### 3.1. Inputs (–í—Ö–æ–¥—ã)

- **Source:** CLI Args
- **Format:** JSON (—á–µ—Ä–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã CLI) / Text
- **Schema:**

```ts
export interface InputData {
  // –í—Ö–æ–¥–Ω–æ–π –ø—Ä–∏–∑–Ω–∞–∫
  x: number;
  // –¶–µ–ª–µ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
  y: number;
  // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–µ—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  wInit?: number;
  // –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å–º–µ—â–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  bInit?: number;
  // –°–∫–æ—Ä–æ—Å—Ç—å –æ–±—É—á–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  learningRate?: number;
  // –ß–∏—Å–ª–æ —ç–ø–æ—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  epochs?: number;
}
```

### 3.2. Outputs (–í—ã—Ö–æ–¥—ã)

- **Destination:** STDOUT
- **Format:** Text
- **Success Criteria:** Exit Code 0
- **Schema:**

```ts
export interface OutputResult {
  finalW: number;
  finalB: number;
  // –ò—Å—Ç–æ—Ä–∏—è —ç–ø–æ—Ö: –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ, –ø–æ—Ç–µ—Ä—è, —Ç–µ–∫—É—â–∏–µ –≤–µ—Å–∞ w –∏ b
  epochs: Array<{
    epoch: number;
    predicted: number;
    loss: number;
    w: number;
    b: number;
  }>;
  // –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è X=2.0
  finalPredictionForX: number;
}
```

---

## 4. Implementation Details (The Source DNA / –ò—Å—Ö–æ–¥–Ω—ã–π –ö–æ–¥)

### 4.1. Algorithmic Logic (–î–ª—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞)

–†–∏—Ç—É–∞–ª —Å–ª–µ–¥—É–µ—Ç –ø–æ —Å—Ü–µ–Ω–∞—Ä–∏—é —à–∞–º–∞–Ω—Å–∫–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω–æ–≥–æ —Å–ø—É—Å–∫–∞, –Ω–æ –≤—Ä—É—á–Ω—É—é:

1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –†–∏—Ç—É–∞–ª—É:

- –ü–æ–¥–Ω–∏–º–∞–µ–º –º–∞–≥–∏—á–µ—Å–∫—É—é –∫–Ω–∏–≥—É PyTorch (torch).
- –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Ö–æ–¥–Ω–æ–π –ø—Ä–∏–∑–Ω–∞–∫ X –≤ 2.0, —Ü–µ–ª—å Y –≤ 5.0 ‚Äî —ç—Ç–∏ –¥–≤–µ –≥–∏—Ä–∏ –∑–∞–¥–∞—é—Ç —ç–ø–æ—Ö–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å.
- –°–æ–∑–¥–∞–µ–º —Ä—É–Ω—ã –≤–µ—Å–∞ w –∏ —Å–º–µ—â–µ–Ω–∏—è b, –Ω–∞—á–∞–ª—å–Ω–æ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ 0, –ø—Ä–∏—á—ë–º –æ–Ω–∏ –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—é (–≥—Ä–∞–¥–∏–µ–Ω—Ç –Ω–µ –≤–∫–ª—é—á—ë–Ω –¥–ª—è —ç—Ç–∏—Ö —Ä—É–Ω).
- –í—ã–±–∏—Ä–∞–µ–º –°–∫–æ—Ä–æ—Å—Ç—å –û–±—É—á–µ–Ω–∏—è (learning_rate = 0.01).
- –û–±—ä—è–≤–ª—è–µ–º –ø–µ—á–∞—Ç—å—é –Ω–∞—á–∞–ª—å–Ω—ã–µ —Ü–µ–ª–∏ –∏ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å–Ω—É—é —á–µ—Ä—Ç—É.

2. –†–∏—Ç—É–∞–ª –ö–∞–ª–∏–±—Ä–æ–≤–∫–∏ (15 —ç–ø–æ—Ö):

- –®–∞–≥ 1: –ü—Ä—è–º–æ–π –ø—Ä–æ—Ö–æ–¥ ‚Äî –≤—ã—á–∏—Å–ª—è–µ–º –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ y_predicted = w \* X + b.
- –®–∞–≥ 2: –ò–∑–º–µ—Ä—è–µ–º —Ö–∞–æ—Å ‚Äî loss = (y_predicted - Y)^2.
- –®–∞–≥ 3: –í—Ä—É—á–Ω—É—é –≤—ã—á–∏—Å–ª—è–µ–º —à–µ–ø–æ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
  - grad*w = 2 * (y*predicted - Y) * X
  - grad*b = 2 * (y*predicted - Y) * 1
- –®–∞–≥ 4: –ü–æ–≤–æ—Ä–æ—Ç —Ä—É–∫–æ—è—Ç–∏ ‚Äî –æ–±–Ω–æ–≤–ª—è–µ–º w –∏ b –ø—Ä–æ—Ç–∏–≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —à–µ–ø–æ—Ç–∞:
  - w = w - learning_rate \* grad_w
  - b = b - learning_rate \* grad_b
- –®–∞–≥ 5: –õ–µ—Ç–æ–ø–∏—Å—å —ç–ø–æ—Ö–∏ ‚Äî –ø–µ—á–∞—Ç–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—ç–ø–æ—Ö–∞, –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ, –æ—à–∏–±–∫–∞, w, b).

3. –§–∏–Ω–∞–ª:

- –†–∞–∑–¥–µ–ª—è–µ–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ —Å–Ω–æ–≤–∞ –∏ –∑–∞—è–≤–ª—è–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ w –∏ b.
- –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è X=2.0.

### 4.2. Declarative Content (–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö)

- X = 2.0
- Y = 5.0
- w = 0.0 (–≥—Ä–∏—Ñ–æ–Ω-—Ä—É–Ω–∞, –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã)
- b = 0.0 (–≥—Ä–∏—Ñ–æ–Ω-—Ä—É–Ω–∞, –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã)
- learning_rate = 0.01
- epochs = 15
- –ü—Ä—è–º–æ–π –ø—Ä–æ—Ö–æ–¥, –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ loss, —Ä—É—á–Ω–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Å–æ–≤ –ø–æ–≤—Ç–æ—Ä—è—é—Ç—Å—è 15 —Ä–∞–∑
- –§–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ–ª—è —Ö–∞–æ—Å–∞ ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è X=2.0 –±–ª–∏–∑–∫–æ –∫ 5.0

---

## 5. Structural Decomposition (–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

- –ë–ª–æ–∫ –º–∞–≥–∏—á–µ—Å–∫–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: PyTorch (torch)
- –≠–ª–µ–º–µ–Ω—Ç—ã —Ä–∏—Ç—É–∞–ª–∞:
  - X, Y ‚Äî –≥–∏—Ä–∏ –≤—Ö–æ–¥–Ω–æ–≥–æ –ø—Ä–∏–∑—ã–≤–∞ –∏ —Ü–µ–ª–∏
  - w, b ‚Äî —Ä—É–Ω—ã –≤–µ—Å–∞ –∏ —Å–º–µ—â–µ–Ω–∏—è
  - learning_rate ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–æ—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –≠—Ç–∞–ø—ã –ø—Ä–æ—Ü–µ—Å—Å–∞:
  - –ê–∫—Ç 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –†–∏—Ç—É–∞–ª—É
  - –ê–∫—Ç 2: –†–∏—Ç—É–∞–ª –ö–∞–ª–∏–±—Ä–æ–≤–∫–∏ (15 —ç–ø–æ—Ö)
  - –≠—Ç–∞–ø –∑–∞–ø–∏—Å–∏ –∏ —Ñ–∏–Ω–∞–ª
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–µ—á–∞—Ç—å —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π —ç–ø–æ—Ö–∏
- –ò—Ç–æ–≥: —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ

---

## 6. System Context & Constraints (–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

### 6.1. Technical Constraints

- **Performance:** Standard CPU
- **Concurrency:** Sync
- **Dependencies:** PyTorch (torch)

### 6.2. Prohibited Actions (Negative Constraints)

- DO NOT store secrets in plain text (use .env)
- DO NOT print raw data to console in production mode
- DO NOT use synchronous network calls in the main loop
- DO NOT wrap –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (yaml/json) –≤ —Å–∫—Ä–∏–ø—Ç—ã
- DO NOT change –≤–µ—Ä—Å–∏—é –∏–ª–∏ –ø—É—Ç–∏ –≤–æ –≤—Ä–µ–º—è —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

---

## 7. Verification & Testing (–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)

```gherkin
Feature: Script Functionality of quest_9_1.py
  Scenario: Successful execution
    Given The artifact quest_9_1.py is executed with default parameters
    When 15 epochs of forward pass, loss calculation, manual gradient whispers, and weight updates occur
    Then The final logs show w and b updated and the final prediction for X=2.0 is close to 5.0

  Scenario: Invalid input handling
    Given The inputs include a non-numeric x value
    When The script runs
    Then It should raise a TypeError or log a meaningful error message
```

---

–ò–Ωventory –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞ quest_9_1.py (RPG-–ø—Ä–µ–¥–º–µ—Ç—ã)

- üè∞ PyTorch –ì—Ä–∏–º—É–∞—Ä (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –º–∞–≥–∏–∏ –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–≤) ‚Äî –æ—Å–Ω–æ–≤–∞ —Ä–∏—Ç—É–∞–ª–∞
- üõ°Ô∏è –ì–∏—Ä—å–∫–∞ X (2.0) ‚Äî –≤—Ö–æ–¥–Ω–æ–π –ø—Ä–∏–∑—ã–≤ –∏ —Ç–æ—á–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –º–æ–¥–µ–ª–∏
- üõ°Ô∏è –ò—Å—Ç–∏–Ω–Ω–∞—è –≥–∏—Ä—å–∫–∞ Y (5.0) ‚Äî –∏–¥–µ–∞–ª —Ü–µ–ª–∏, –∫ –∫–æ—Ç–æ—Ä–æ–º—É —Ç—è–≥–æ—Ç–µ—é—Ç –≤–µ—Å–æ–≤—ã–µ —Ä—É–Ω—ã
- üõ°Ô∏è –†—É–Ω—ã w ‚Äî –≤–µ—Å (0.0 –≤ —Å—Ç–∞—Ä—Ç–µ), —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é, –Ω–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–æ
- üõ°Ô∏è –†—É–Ω—ã b ‚Äî —Å–º–µ—â–µ–Ω–∏–µ (0.0 –≤ —Å—Ç–∞—Ä—Ç–µ), —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é
- üè∞ –°–∫–æ—Ä–æ—Å—Ç—å –û–±—É—á–µ–Ω–∏—è learning_rate (0.01) ‚Äî —Ç–æ—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—Ä—É—á–µ–Ω–∏—è —Ä—É–∫–æ—è—Ç–µ–π
- üè∞ –≠—Ñ–∏—Ä –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π ‚Äî y_predicted –Ω–∞ –∫–∞–∂–¥–æ–º –≤–∏—Ç–∫–µ
- üè∞ –õ–µ—Ç–æ–ø–∏—Å—å –ò—Ç–æ–≥–æ–≤ ‚Äî –≤—ã–≤–æ–¥ –ª–æ–≥–æ–≤ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
- üè∞ –°–∫—Ä–∏–∂–∞–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–°–∫—Ä–∏–∂–∞–ª—å) ‚Äî X, Y, wInit, bInit, learningRate, epochs
- üè∞ –•–∞–æ—Å –æ—à–∏–±–æ–∫ (Loss) ‚Äî –º–µ—Ä–∞ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –∏ –∏—Å—Ç–∏–Ω—ã –Ω–∞ –∫–∞–∂–¥–æ–º –≤–∏—Ç–∫–µ

–ì–æ–≤–æ—Ä—è—â–∏–µ —Ä—É–Ω—ã –∑–¥–µ—Å—å –æ–ø–∏—Å—ã–≤–∞—é—Ç —à–∞–≥–∏ –∏ –≤–∑–∞–∏–º–æ—Å–≤—è–∑–∏ —Ç–∞–∫, —á—Ç–æ–±—ã –í–µ–ª–∏–∫–∞—è –ö–Ω–∏–≥–∞ –ö–æ–¥–µ–∫—Å–∞ –º–æ–≥–ª–∞ –≤–æ—Å—Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –±–µ–∑ –¥–æ—Å—Ç—É–ø–∞ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É –∫–æ–¥—É, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –¥—É—Ö –ü—Ä–∏–∫–ª–∞–¥–Ω–æ–π –¢–µ—Ö–Ω–æ–º–∞–≥–∏–∏.
