# quest_19_2.py Specification

## 1. Meta Information

- **Domain:** Scripting / ML/NLP
- **Complexity:** High
- **Language:** Python
- **Frameworks:** gTTS, librosa, torch, transformers, openai/whisper-tiny, valhalla/distilbart-mnli-12-3, distilgpt2
- **Context:** Independent Artifact

## 2. Goal & Purpose (–¶–µ–ª—å –∏ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ)

–õ–µ–≥–µ–Ω–¥–∞: –≠—Ç–æ—Ç –º–æ–¥—É–ª—å –≤–æ–ø–ª–æ—â–∞–µ—Ç —Ç–µ–∞—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è AI‚Äë–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –ø—Ä–µ–≤—Ä–∞—â–∞—è —Ä–µ–ø–ª–∏–∫–∏ –≤ –∞—É–¥–∏–æ‚Äë—Ä–µ–∫–≤–∏–∑–∏—Ç, –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—è –∏—Ö –∫–æ–Ω–≤–µ–π–µ—Ä–æ–º, —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—è —Ä–µ—á—å –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ç–µ–∫—Å—Ç, –æ–ø—Ä–µ–¥–µ–ª—è—è –Ω–∞–º–µ—Ä–µ–Ω–∏–µ –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—è –æ—Å–º—ã—Å–ª–µ–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç ‚Äî –≤—Å—ë —Ä–∞–¥–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –ò–ò.

## 3. Interface Contract (–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–Ω—ã–π –ö–æ–Ω—Ç—Ä–∞–∫—Ç)

### 3.1. Inputs (–í—Ö–æ–¥—ã)

- **Source:** CLI Args | STDIN | API Request | Kafka Topic | Smart Contract Call
- **Format:** JSON | Text | Binary | Stream
- **Schema:**
  interface InputData {
  dialogue_script: string[];
  lang?: string;
  }

### 3.2. Outputs (–í—ã—Ö–æ–¥—ã)

- **Destination:** STDOUT | File | Database | API Response | Event Log
- **Format:** JSON | CSV | Text
- **Success Criteria:** Exit Code 0
- **Schema:**
  interface OutputResult {
  transcription?: string;
  final_response?: string;
  status: "success" | "failure";
  }

## 4. Implementation Details (The Source DNA / –ò—Å—Ö–æ–¥–Ω—ã–π –ö–æ–¥)

### 4.1. Algorithmic Logic (–î–ª—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ –∫–æ–¥–∞)

1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è: CUDA‚Äë–ö—Ä–∏—Å—Ç–∞–ª–ª –ú–∞–Ω—ã, –∏–Ω–∞—á–µ CPU, –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤—ã–±–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞: —Å–æ–∑–¥–∞—ë—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è dialogue*audio, –∑–∞—Ç–µ–º –ø–æ –∫–∞–∂–¥–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É dialogue_script —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞—É–¥–∏–æ—Ñ–∞–π–ª mp3 —Å –ø–æ–º–æ—â—å—é gTTS –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∫ dialogue_audio/step*{i}.mp3; –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ–∑–¥–∞–Ω–∏–∏ —Ä–µ–ø–ª–∏–∫–∏. –≠—Ç–æ —à–∞–≥ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ —Ä–∏—Ç—É–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π —ç—Ñ–∏—Ä –∞—É–¥–∏–æ-—Å—Ü–µ–Ω–∞—Ä–∏—è.
3. –ü—Ä–∏–∑—ã–≤ –ì–æ–ª–µ–º–∞-–ü–∏—Å—Ü–∞ (Whisper): –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –∏ –º–æ–¥–µ–ª—å WhisperTiny, –∞—É–¥–∏–æ—Ñ–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ librosa —Å —á–∞—Å—Ç–æ—Ç–æ–π 16000 –ì—Ü, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –≤—Ö–æ–¥–Ω–æ–π —Ç–µ–Ω–∑–æ—Ä, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Ä—É–Ω–∞‚Äë—Ç–æ–∫–µ–Ω—ã –∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç. –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—á–∞—Ç–∞–µ—Ç—Å—è –Ω–∞ –∫–æ–Ω—Å–æ–ª—å, –∑–∞—Ç–µ–º —É–¥–∞–ª—è—é—Ç—Å—è –º–æ–¥–µ–ª—å –∏ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä; –æ—á–∏—â–∞–µ—Ç—Å—è –ø–∞–º—è—Ç—å.
4. –ü—Ä–∏–∑—ã–≤ –ì–æ–ª–µ–º–∞‚Äë–¢–æ–ª–∫–æ–≤–∞—Ç–µ–ª—è (Intent Classifier): —Å–æ–∑–¥–∞—ë—Ç—Å—è –∫–æ–Ω–≤–µ–π–µ—Ä –Ω—É–ª–µ–≤–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å –º–æ–¥–µ–ª—å—é valhalla/distilbart-mnli-12-3 –∏ —Ü–µ–ª—è–º–∏ –Ω–∞–º–µ—Ä–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä: —É–∑–Ω–∞—Ç—å –ø–æ–≥–æ–¥—É, –≤–∫–ª—é—á–∏—Ç—å –º—É–∑—ã–∫—É, —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å —à—É—Ç–∫—É, –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞); —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥–æ–Ω—è–µ—Ç—Å—è –ø–æ –∫–æ–Ω–≤–µ–π–µ—Ä—É –∏ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ; –ø–∞–º—è—Ç—å –æ—á–∏—â–∞–µ—Ç—Å—è.
5. –ü—Ä–∏–∑—ã–≤ –ì–æ–ª–µ–º–∞‚Äë–û—Ä–∞–∫—É–ª–∞ (Text Generator): –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è distilgpt2 –∏ –µ–≥–æ —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä, –∑–∞–¥–∞—ë—Ç—Å—è pad_token, –∑–∞–¥–∞—ë—Ç—Å—è —Å–ª–æ–≤–∞—Ä—å prompts –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –Ω–∞–º–µ—Ä–µ–Ω–∏–π, –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–ª–æ–≥; –≤–≤–æ–¥–∏—Ç—Å—è –≤ –º–æ–¥–µ–ª—å –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ (–º–∞–∫—Å. –¥–ª–∏–Ω–∞ 50, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è n‚Äë–≥—Ä–∞–º–º); –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞; –ø–∞–º—è—Ç—å –æ—á–∏—â–∞–µ—Ç—Å—è.
6. –û—Å–Ω–æ–≤–Ω–æ–π —Ä–∏—Ç—É–∞–ª (–¢–µ–∞—Ç—Ä –ú–∞—Ä–∏–æ–Ω–µ—Ç–æ–∫): –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å—Ü–µ–Ω–∞—Ä–∏–π dialogue_script. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞, –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–º–µ—Ç–∫–∞ –Ω–∞—á–∞–ª–∞ —Å–∏–º—É–ª—è—Ü–∏–∏. –ó–∞—Ç–µ–º –≤ —Ü–∏–∫–ª–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –¥–µ–ª–∞—é—Ç—Å—è –ø–∞—É–∑–∞ –≤ 2 —Å–µ–∫—É–Ω–¥—ã, –≤—ã–≤–æ–¥–∏—Ç—Å—è —Ä–µ–ø–ª–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –±–µ—Ä—ë—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞—É–¥–∏–æ—Ñ–∞–π–ª, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è, –∏ –µ—Å–ª–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–æ–ø‚Äë—Å–ª–æ–≤–æ (—Å—Ç–æ–ø/—Ö–≤–∞—Ç–∏—Ç), —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –ø—Ä–æ—â–∞–ª—å–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º. –ò–Ω–∞—á–µ, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –Ω–µ –ø—É—Å—Ç–æ–π, –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏—è –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞; –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –ø—É—Å—Ç–æ–π, —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∏–∑–≤–∏–Ω—è—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ. –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—Å—è –Ω–∞ –∫–æ–Ω—Å–æ–ª—å. –¶–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–ª–æ–≤–∞‚Äë–∫–ª—é—á–∞ –∏–ª–∏ –æ–∫–æ–Ω—á–∞–Ω–∏—è —Å—Ü–µ–Ω–∞—Ä–∏—è.

### 4.2. Declarative Content (–î–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∏ –¥–∞–Ω–Ω—ã—Ö)

–î–∞–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞, –ø—Ä–∏–≥–æ–¥–Ω–æ–≥–æ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è 1-–≤-1.

- –î–∏–∞–ª–æ–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (dialogue_script):
  - "–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ —à—É—Ç–∫—É"
  - "–ö–∞–∫–∞—è —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞?"
  - "–•–≤–∞—Ç–∏—Ç"

- –†–∏—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –º–∞—Ä—à—Ä—É—Ç—ã:
  - dialogue_audio/step_0.mp3
  - dialogue_audio/step_1.mp3
  - dialogue_audio/step_2.mp3

- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –∏—Ö –∫—Ä–∏—Å—Ç–∞–ª–ª—ã:
  - gTTS ‚Äî –¥—É—Ö –≥–ª–∞—Å–æ–≤, –ø—Ä–µ–≤—Ä–∞—â–∞—é—â–∏–π —Ç–µ–∫—Å—Ç –≤ —Ä–µ—á—å
  - WhisperTiny ‚Äî –ì–æ–ª–µ–º-–ü–∏—Å–µ—Ü, —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—â–∏–π –∑–≤—É–∫ –≤ —Ä—É–Ω—ã
  - valhalla/distilbart-mnli-12-3 ‚Äî –ì–æ–ª–µ–º‚Äë–¢–æ–ª–∫–æ–≤–∞—Ç–µ–ª—å, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–∞–º–µ—Ä–µ–Ω–∏–π
  - distilgpt2 ‚Äî –ì–æ–ª–µ–º‚Äë–û—Ä–∞–∫—É–ª, –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –æ—Ç–≤–µ—Ç–æ–≤
  - openai/whisper-tiny ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ –∏ –º–æ–¥–µ–ª–∏
  - Librosa ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ —á—Ç–µ–Ω–∏—è –∞—É–¥–∏–æ
  - Torch ‚Äî –æ—Å–Ω–æ–≤–∞ –º–∞–≥–∏–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
  - Os, Time ‚Äî —É—Ç–∏–ª–∏—Ç—ã —Ä–∏—Ç—É–∞–ª–æ–≤ –∏ –ø–∞—É–∑

- –£—Å–ª–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç:
  - DEVICE = "cuda" –µ—Å–ª–∏ torch.cuda.is_available() –∏–Ω–∞—á–µ "cpu"
  - lang –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é "ru"
  - –ü—É—Ç—å –∫ –∞—É–¥–∏–æ-—Ñ–∞–π–ª–∞–º: dialogue*audio/step*{i}.mp3

- Inventory (–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–∏–π –Ω–∞–±–æ—Ä –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤):
  - üè∞ dialogue_audio ‚Äî —Å–∞–∫—Ä–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∞—É–¥–∏–æ‚Äë—Ä–µ–∫–≤–∏–∑–∏—Ç–∞
  - üõ°Ô∏è gTTS ‚Äî –¥—É—Ö‚Äë–≥–ª–∞—à–∞—Ç–∞–π, —Å–æ–∑–¥–∞—é—â–∏–π –∞—É–¥–∏–æ –∏–∑ —Ç–µ–∫—Å—Ç–∞
  - üè∞ WhisperTiny ‚Äî –ì–æ–ª–µ–º‚Äë–ü–∏—Å–µ—Ü –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
  - üõ°Ô∏è valhalla/distilbart-mnli-12-3 ‚Äî –ì–æ–ª–µ–º‚Äë–¢–æ–ª–∫–æ–≤–∞—Ç–µ–ª—å –¥–ª—è –Ω–∞–º–µ—Ä–µ–Ω–∏–π
  - üè∞ distilgpt2 ‚Äî –ì–æ–ª–µ–º‚Äë–û—Ä–∞–∫—É–ª –¥–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤
  - üõ°Ô∏è GPT2Tokenizer ‚Äî —Ç–æ–∫–µ–Ω–∏–∑–∞—Ç–æ—Ä –ì–æ–ª–µ–º–∞‚Äë–û—Ä–∞–∫—É–ª–∞
  - üè∞ librosa ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞ –∞—É–¥–∏–æ
  - üõ°Ô∏è torch ‚Äî –¥–≤–∏–∂–∏—Ç–µ–ª—å –º–∞–≥–∏–∏(–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π)
  - üè∞ time, os ‚Äî —Ä—É–Ω—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

- –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—É: –≤—Å–µ –∏–º–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ –ø—É—Ç–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∫–∞–∫ –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ: DEVICE, dialogue*script, dialogue_audio, step*{i}.mp3, transcribe_audio, classify_intent, generate_response, openai/whisper-tiny, valhalla/distilbart-mnli-12-3, distilgpt2, gTTS, librosa, torch, processor, model, tokenizer, prompts.

## 5. Structural Decomposition (–î–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã)

- prepare_dialogue_props ‚Äî —Å–æ–∑–¥–∞–µ—Ç –∞—É–¥–∏–æ‚Äë—Ä–µ–∫–≤–∏–∑–∏—Ç –¥–ª—è –∫–∞–∂–¥–æ–π —Ä–µ–ø–ª–∏–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ dialogue_audio.
- transcribe_audio ‚Äî –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –ì–æ–ª–µ–º–∞-–ü–∏—Å—Ü–∞, –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∞—É–¥–∏–æ –≤ —Ç–µ–∫—Å—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é.
- classify_intent ‚Äî –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –ì–æ–ª–µ–º–∞‚Äë–¢–æ–ª–∫–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–º–µ—Ä–µ–Ω–∏—è –Ω–∞ –±–∞–∑–µ —Ç–µ–∫—Å—Ç–∞.
- generate_response ‚Äî –ø—Ä–∏–∑—ã–≤–∞–µ—Ç –ì–æ–ª–µ–º–∞‚Äë–û—Ä–∞–∫—É–ª–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–∞ –ø–æ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω–æ–º—É –Ω–∞–º–µ—Ä–µ–Ω–∏—é.
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä (if **name** == "**main**") ‚Äî orchestrator —Ä–∏—Ç—É–∞–ª–∞: –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, —Ü–∏–∫–ª –ø–æ —Ä–µ–ø–ª–∏–∫–∞–º, –ø–∞—É–∑—ã, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è, —Å–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞, –≤—ã–≤–æ–¥ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É.

## 6. System Context & Constraints (–°–∏—Å—Ç–µ–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è)

### 6.1. Technical Constraints

- **Performance:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –ø–æ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU (CUDA) –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ; –∏–Ω–∞—á–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è CPU‚Äë–º–æ—â–Ω–æ—Å—Ç—å.
- **Concurrency:** –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä; —ç—Ç–∞–ø—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏, –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ.
- **Dependencies:** Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å os, time, librosa, torch, gtts, transformers, openai/whisper-tiny, valhalla/distilbart-mnli-12-3, distilgpt2.

### 6.2. Prohibited Actions (Negative Constraints)

- DO NOT store secrets in plain text (use .env).
- DO NOT print raw data to console in production mode.
- DO NOT use synchronous network calls in the main loop.
- DO NOT wrap configuration files (.yaml, .json) into scripts (like Python/Bash).
- DO NOT change versions or paths during reconstruction.

## 7. Verification & Testing (–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)

1. –ì–µ—Ä—Ö–∏–Ω-—Å—Ü–µ–Ω–∞—Ä–∏–π: –£—Å–ø–µ—à–Ω–∞—è —Ü–µ–ø–æ—á–∫–∞
   Feature: Script Functionality
   Scenario: Successful execution
   Given –¥–∏–∞–ª–æ–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç "–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ —à—É—Ç–∫—É", "–ö–∞–∫–∞—è —Å–µ–≥–æ–¥–Ω—è –ø–æ–≥–æ–¥–∞?", "–•–≤–∞—Ç–∏—Ç"
   When —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤
   Then –≤—ã–≤–æ–¥—è—Ç—Å—è –æ—Ç–≤–µ—Ç—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—Ö–æ–¥–∞ –∏ —Ü–∏–∫–ª –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –Ω–∞ —Å–ª–æ–≤–µ "–•–≤–∞—Ç–∏—Ç"

2. –ì–µ—Ä—Ö–∏–Ω-—Å—Ü–µ–Ω–∞—Ä–∏–π: –ü—É—Å—Ç–æ–π —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
   Feature: Script Functionality
   Scenario: Empty transcription
   Given –¥–∏–∞–ª–æ–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç "–†–∞—Å—Å–∫–∞–∂–∏ –º–Ω–µ —à—É—Ç–∫—É"
   And –∞—É–¥–∏–æ—Ñ–∞–π–ª –¥–ª—è —à–∞–≥–∞ –ø—É—Å—Ç –∏–ª–∏ –Ω–µ —á–∏—Ç–∞–µ–º
   When –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è
   Then –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ "–Ø –Ω–∏—á–µ–≥–æ –Ω–µ —É—Å–ª—ã—à–∞–ª." –∏ —Ü–∏–∫–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è/–∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

–ò–°–°–õ–ï–î–£–ï–ú–´–ô –ê–†–¢–ï–§–ê–ö–¢: quest_19_2.py
